(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,a,t){},,function(e,a,t){e.exports=t(22)},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(9),i=t.n(r),s=(t(16),t(2)),l=t(3),o=t(6),h=t(4),u=t(1),m=t(5),p=(t(17),t(18),function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(l.a)(a,[{key:"showStars",value:function(){for(var e=[],a=Math.floor(this.props.place.rating),t=5-Math.ceil(this.props.place.rating),n=5-a-t,c=0;c<a;c++)e.push("icon-star");for(var r=0;r<n;r++)e.push("icon-star-half-alt");for(var i=0;i<t;i++)e.push("icon-star-empty");return e}},{key:"render",value:function(){return c.a.createElement("div",{className:"Business"},c.a.createElement("div",{className:"image-container"},c.a.createElement("a",{href:this.props.place.url,target:"_blanc"},c.a.createElement("img",{src:this.props.place.imageSrc,alt:""}))),c.a.createElement("div",{className:"Place-about"},c.a.createElement("div",{className:"rating"},this.showStars().map(function(e,a){return c.a.createElement("i",{className:e,key:a})})),c.a.createElement("a",{href:this.props.place.url,target:"_blanc"},c.a.createElement("h2",null,this.props.place.name)),c.a.createElement("div",{className:"Business-information"},c.a.createElement("div",{className:"Business-address"},c.a.createElement("p",null,this.props.place.address),c.a.createElement("p",null,this.props.place.city)),c.a.createElement("div",{className:"Business-reviews"},c.a.createElement("h3",null,this.props.place.category),c.a.createElement("h3",null,this.props.place.reviewCount," reviews")))))}}]),a}(c.a.Component)),d=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return"Request failed!"!==this.props.places&&"No API key!"!==this.props.places?c.a.createElement("div",{className:"BusinessList"},this.props.places.map(function(e){return c.a.createElement(p,{key:e.id,place:e})})):c.a.createElement("div",{className:"rejection"},this.props.places)}}]),a}(c.a.Component),f=(t(19),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(h.a)(a).call(this,e))).state={term:"",location:""},t.handleTermChange=t.handleTermChange.bind(Object(u.a)(t)),t.handleLocationChange=t.handleLocationChange.bind(Object(u.a)(t)),t.handleSearch=t.handleSearch.bind(Object(u.a)(t)),t.handleKeyDown=t.handleKeyDown.bind(Object(u.a)(t)),t}return Object(m.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"BigSearchBar"},c.a.createElement("div",{className:"BigSearchBar-fields"},c.a.createElement("input",{placeholder:"Name of the restaurant, cusine",onChange:this.handleTermChange}),c.a.createElement("input",{placeholder:"Where?",onChange:this.handleLocationChange,onKeyDown:this.handleKeyDown})),c.a.createElement("div",{className:"BigSearchBar-submit",onClick:this.handleSearch},c.a.createElement("p",null,"Let's Go")))}},{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"handleLocationChange",value:function(e){this.setState({location:e.target.value})}},{key:"handleSearch",value:function(e){this.props.searchYelp(this.state.term,this.state.location),this.props.onSubmit(),e.preventDefault()}},{key:"handleKeyDown",value:function(e){"Enter"===e.key&&this.handleSearch(e)}}]),a}(c.a.Component)),v=(t(20),t(8),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(h.a)(a).call(this,e))).state={term:"",location:""},t.handleTermChange=t.handleTermChange.bind(Object(u.a)(t)),t.handleLocationChange=t.handleLocationChange.bind(Object(u.a)(t)),t.handleSearch=t.handleSearch.bind(Object(u.a)(t)),t.handleKeyDown=t.handleKeyDown.bind(Object(u.a)(t)),t}return Object(m.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"SearchBar"},c.a.createElement("div",{className:"SmallSearchBar"},c.a.createElement("div",{className:"SearchBar-fields"},c.a.createElement("input",{placeholder:"Search Restaurants",onChange:this.handleTermChange}),c.a.createElement("input",{placeholder:"Where?",onChange:this.handleLocationChange,onKeyDown:this.handleKeyDown})),c.a.createElement("div",{className:"SearchBar-submit",onClick:this.handleSearch},c.a.createElement("i",{className:"icon-search-1"}))))}},{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"handleLocationChange",value:function(e){this.setState({location:e.target.value})}},{key:"handleSearch",value:function(e){this.props.searchYelp(this.state.term,this.state.location),e.preventDefault()}},{key:"handleKeyDown",value:function(e){"Enter"===e.key&&this.handleSearch(e)}}]),a}(c.a.Component)),b="7QWRNphG3Qm6BmC0Do30wr2I9CWE95nRgaRNMDy99b77RHUfkE5_3d4b6MhOmlxtFSxYYqKgEbMTev3PkR1x3Nrfjai8oi45yJ2CML8tUb2KoYcqU6n1isGAKx1vXHYx",g={search:function(e,a){var t="https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(e,"&location=").concat(a);return fetch(t,{headers:{Authorization:"Bearer ".concat(b)}}).then(function(e){if(e.ok)return e.json();throw Error("Request failed!")}).then(function(e){if(e.businesses)return e.businesses.map(function(e){return{id:e.id,imageSrc:e.image_url,name:e.name,address:e.location.display_address[0],city:e.location.city,state:e.location.state,zipCode:e.location.zip_code,category:e.categories[0].title,rating:e.rating,reviewCount:e.review_count,url:e.url}})}).catch(function(e){return e.message})}},E=(t(21),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(h.a)(a).call(this,e))).state={places:[],active:"first"},t.searchYelp=t.searchYelp.bind(Object(u.a)(t)),t.handleViewChange=t.handleViewChange.bind(Object(u.a)(t)),t}return Object(m.a)(a,e),Object(l.a)(a,[{key:"searchYelp",value:function(e,a){var t=this;g.search(e,a).then(function(e){t.setState({places:e})})}},{key:"handleViewChange",value:function(){var e="first"===this.state.active?"second":"first";this.setState({places:[],active:e})}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"appetite"),"first"===this.state.active?c.a.createElement(f,{onSubmit:this.handleViewChange,searchYelp:this.searchYelp}):"second"===this.state.active?c.a.createElement("div",null,c.a.createElement(v,{searchYelp:this.searchYelp}),c.a.createElement(d,{places:this.state.places}),c.a.createElement("div",{className:"arrow"},c.a.createElement("i",{className:"icon-left-outline",onClick:this.handleViewChange}))):null)}}]),a}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.00a1289e.chunk.js.map